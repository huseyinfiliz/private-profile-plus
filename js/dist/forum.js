(()=>{var e={n:r=>{var i=r&&r.__esModule?()=>r.default:()=>r;return e.d(i,{a:i}),i},d:(r,i)=>{for(var t in i)e.o(i,t)&&!e.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:i[t]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};(()=>{"use strict";const r=flarum.core.compat["forum/app"];var i=e.n(r);const t=flarum.core.compat["common/extend"],s=flarum.core.compat["forum/components/SettingsPage"];var o=e.n(s);const n=flarum.core.compat["common/components/Select"];var a=e.n(n);const l=flarum.core.compat["forum/components/UserPage"];var p=e.n(l);i().initializers.add("private-profile-plus",function(){(0,t.extend)(o().prototype,"settingsItems",function(e){var r,t,s,o=this,n=(s={everyone:"huseyinfiliz-private-profile-plus.forum.user.settings.option_everyone",members:"huseyinfiliz-private-profile-plus.forum.user.settings.option_members",private:"huseyinfiliz-private-profile-plus.forum.user.settings.option_private"})[t=String(i().forum.attribute("profileVisibilityDefault")||"everyone")]?i().translator.trans(s[t]):t;if(this.user){var l=String((null==(r=this.user.preferences())?void 0:r.profileVisibility)||"default"),p={default:i().translator.trans("huseyinfiliz-private-profile-plus.forum.user.settings.option_default",{level:n}),everyone:i().translator.trans("huseyinfiliz-private-profile-plus.forum.user.settings.option_everyone"),members:i().translator.trans("huseyinfiliz-private-profile-plus.forum.user.settings.option_members"),private:i().translator.trans("huseyinfiliz-private-profile-plus.forum.user.settings.option_private")};e.add("profileVisibility",m(".Form-group",[m("label",i().translator.trans("huseyinfiliz-private-profile-plus.forum.user.settings.profile_visibility_heading")),m(".helpText",i().translator.trans("huseyinfiliz-private-profile-plus.forum.user.settings.profile_visibility_help")),m(a(),{options:p,value:l,onchange:function(e){o.user.savePreferences({profileVisibility:e})}})]))}}),(0,t.extend)(p().prototype,"onupdate",function(){var e=this.user;if(e){var r=e.attribute("effectiveProfileVisibility"),t=i().session.user,s=t&&t.id()===e.id(),o=i().forum.attribute("canBypassProfileVisibility"),n=!0;switch(r){case"everyone":default:n=!0;break;case"members":n=!!t;break;case"private":n=!(!s&&!o)}if(!n){var a,l=this.element.querySelector(".PostsUserPage .Placeholder, .DiscussionsUserPage .Placeholder");null!=l&&l.querySelector("p")&&(a="members"===r?"huseyinfiliz-private-profile-plus.forum.profile_members_only":"huseyinfiliz-private-profile-plus.forum.profile_private",l.querySelector("p").textContent=i().translator.trans(a))}}})})})(),module.exports={}})();
//# sourceMappingURL=forum.js.map